<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Budget Tracker</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Icons for PWA -->
  <link rel="icon" type="image/svg+xml" sizes="192x192" href="icons/icon-192x192.svg">
  <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192x192.svg">
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#6a5acd">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Budget Tracker">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" />
  <link href="https://fonts.googleapis.com/css2?family=Numans&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <div class="left">
      <h2><i class="fas fa-wallet"></i> Add Transaction</h2>
      <form id="transaction-form">
        <div class="input-container">
          <input type="text" id="desc" placeholder="Description" required />
          <div id="desc-suggestions" class="suggestions-dropdown"></div>
        </div>
        <div class="input-container" id="amount-container">
          <input type="number" id="amount" placeholder="Amount (₹)" step="0.01" min="0.01" required />
        </div>
        <input type="date" id="date" required />
        <select id="type" required>
          <option value="" disabled selected>Select Type</option>
          <option value="income">Income</option>
          <option value="expense">Expense</option>
          <option value="recovery">Recovery</option>
        </select>
        <div class="input-container">
          <input type="text" id="category" placeholder="Category (optional)" />
          <div id="category-suggestions" class="suggestions-dropdown"></div>
        </div>
        <button type="button" id="show-all-suggestions" class="secondary-button">
          <i class="fas fa-lightbulb"></i> Show All Suggestions
        </button>
        <button type="submit"><i class="fas fa-plus-circle"></i> Add</button>
      </form>
      
      <!-- Backup and Restore section -->
      <div class="backup-restore">
        <h3><i class="fas fa-database"></i> Data Management</h3>
        <div class="backup-restore-buttons">
          <button type="button" id="backup-btn" class="secondary-button">
            <i class="fas fa-download"></i> Backup Data
          </button>
          <button type="button" id="export-csv-btn" class="secondary-button">
            <i class="fas fa-file-csv"></i> Export to CSV
          </button>
          <button type="button" id="restore-btn" class="secondary-button">
            <i class="fas fa-upload"></i> Restore Data
          </button>
          <input type="file" id="restore-file" accept=".json" style="display: none;" />
        </div>
      </div>
    </div>

    <div class="right">
      <h2><i class="fas fa-chart-line"></i> Budget Summary</h2>

      <!-- Currency Selector inside summary card -->
      <div class="currency-switcher">
        <h3><i class="fas fa-coins"></i> Currency</h3>
        <select id="currency-selector">
          <option value="INR">₹ INR</option>
          <option value="USD">$ USD</option>
          <option value="EUR">€ EUR</option>
        </select>
      </div>

     <div class="summary">
  <div class="badge income">
    <i class="fas fa-arrow-up"></i> Income: <span id="total-income">₹0.00</span>
  </div>
  <div class="badge expense">
    <i class="fas fa-arrow-down"></i> Expense: <span id="total-expense">₹0.00</span>
  </div>
  <div class="badge recovery">
    <i class="fas fa-hand-holding-usd"></i> Recovery: <span id="total-recovery">₹0.00</span>
  </div>
  <div class="badge balance">
    <i class="fas fa-wallet"></i> Balance: <span id="balance">₹0.00</span>
  </div>
</div>


      <h3><i class="fas fa-chart-pie"></i> Overview Chart</h3>
      <!-- Chart Type Switcher -->
      <div class="chart-type-switcher">
        <button id="doughnut-chart-btn" class="chart-type-btn active">
          <i class="fas fa-chart-pie"></i> Doughnut
        </button>
        <button id="bar-chart-btn" class="chart-type-btn">
          <i class="fas fa-chart-bar"></i> Bar
        </button>
      </div>
      <div class="chart-container">
        <canvas id="budget-chart"></canvas>
      </div>

      <h3><i class="fas fa-list"></i> Transactions</h3>
      <div class="transactions" id="transactions-list"></div>
    </div>
  </div>

  <!-- Simple Delete Confirmation Modal -->
  <div class="modal-overlay" id="modal">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-icon">
          <i class="fas fa-exclamation-triangle"></i>
        </div>
        <h3 class="modal-title">Delete Transaction</h3>
      </div>
      <div class="modal-body">
        <p id="modal-message">Are you sure you want to delete this transaction?</p>
        <div class="transaction-preview" id="transaction-preview">
          <!-- Transaction details will be populated here -->
        </div>
        <p class="modal-warning">This action cannot be undone.</p>
      </div>
      <div class="modal-buttons">
        <button id="modal-cancel" class="cancel-btn">
          <i class="fas fa-times"></i> Cancel
        </button>
        <button id="modal-confirm" class="delete-btn">
          <i class="fas fa-trash"></i> Delete
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>